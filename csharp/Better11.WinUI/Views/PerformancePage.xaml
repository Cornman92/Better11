<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="Better11.WinUI.Views.PerformancePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <ScrollViewer>
        <StackPanel Spacing="24">
            <!-- Header -->
            <StackPanel Spacing="8">
                <TextBlock 
                    Text="Performance Monitor"
                    Style="{StaticResource TitleLargeTextBlockStyle}"/>
                <TextBlock 
                    Text="Monitor system performance and optimize settings"
                    Opacity="0.7"
                    Style="{StaticResource BodyTextBlockStyle}"/>
            </StackPanel>

            <!-- System Health Status -->
            <Border 
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="8"
                Padding="20">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <FontIcon 
                        Grid.Column="0"
                        Glyph="&#xE10B;"
                        FontSize="48"
                        Foreground="{x:Bind ViewModel.HealthStatusColor, Mode=OneWay}"
                        Margin="0,0,20,0"/>

                    <StackPanel Grid.Column="1" Spacing="8">
                        <TextBlock Text="System Health" FontSize="20" FontWeight="SemiBold"/>
                        <TextBlock 
                            Text="{x:Bind ViewModel.HealthStatus, Mode=OneWay}"
                            FontSize="16"
                            Foreground="{x:Bind ViewModel.HealthStatusColor, Mode=OneWay}"/>
                        <TextBlock 
                            Text="{x:Bind ViewModel.HealthMessage, Mode=OneWay}"
                            Opacity="0.7"
                            TextWrapping="Wrap"/>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Performance Metrics -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- CPU Usage -->
                <Border 
                    Grid.Row="0" Grid.Column="0"
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1"
                    CornerRadius="8"
                    Padding="16"
                    Margin="0,0,6,6">
                    <StackPanel Spacing="8">
                        <TextBlock Text="CPU Usage" FontWeight="SemiBold"/>
                        <ProgressRing 
                            Value="{x:Bind ViewModel.CpuUsage, Mode=OneWay}"
                            Maximum="100"
                            Width="80"
                            Height="80"/>
                        <TextBlock 
                            Text="{x:Bind ViewModel.CpuUsageText, Mode=OneWay}"
                            FontSize="24"
                            FontWeight="SemiBold"
                            HorizontalAlignment="Center"/>
                    </StackPanel>
                </Border>

                <!-- Memory Usage -->
                <Border 
                    Grid.Row="0" Grid.Column="1"
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1"
                    CornerRadius="8"
                    Padding="16"
                    Margin="6,0,0,6">
                    <StackPanel Spacing="8">
                        <TextBlock Text="Memory Usage" FontWeight="SemiBold"/>
                        <ProgressBar 
                            Value="{x:Bind ViewModel.MemoryUsage, Mode=OneWay}"
                            Maximum="100"
                            Height="20"/>
                        <TextBlock 
                            Text="{x:Bind ViewModel.MemoryUsageText, Mode=OneWay}"
                            FontSize="16"
                            HorizontalAlignment="Center"/>
                    </StackPanel>
                </Border>

                <!-- Disk Usage -->
                <Border 
                    Grid.Row="1" Grid.Column="0"
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1"
                    CornerRadius="8"
                    Padding="16"
                    Margin="0,6,6,0">
                    <StackPanel Spacing="8">
                        <TextBlock Text="Disk C: Usage" FontWeight="SemiBold"/>
                        <ProgressBar 
                            Value="{x:Bind ViewModel.DiskUsage, Mode=OneWay}"
                            Maximum="100"
                            Height="20"/>
                        <TextBlock 
                            Text="{x:Bind ViewModel.DiskUsageText, Mode=OneWay}"
                            FontSize="16"
                            HorizontalAlignment="Center"/>
                    </StackPanel>
                </Border>

                <!-- Process Count -->
                <Border 
                    Grid.Row="1" Grid.Column="1"
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1"
                    CornerRadius="8"
                    Padding="16"
                    Margin="6,6,0,0">
                    <StackPanel Spacing="8">
                        <TextBlock Text="Running Processes" FontWeight="SemiBold"/>
                        <TextBlock 
                            Text="{x:Bind ViewModel.ProcessCount, Mode=OneWay}"
                            FontSize="32"
                            FontWeight="SemiBold"
                            HorizontalAlignment="Center"/>
                    </StackPanel>
                </Border>
            </Grid>

            <!-- System Information -->
            <StackPanel Spacing="12">
                <TextBlock 
                    Text="System Information"
                    Style="{StaticResource SubtitleTextBlockStyle}"/>
                
                <Border 
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1"
                    CornerRadius="8"
                    Padding="16">
                    <StackPanel Spacing="12">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="Computer Name:" Opacity="0.7"/>
                            <TextBlock Grid.Column="1" Text="{x:Bind ViewModel.ComputerName, Mode=OneWay}" FontWeight="SemiBold"/>
                        </Grid>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="OS Version:" Opacity="0.7"/>
                            <TextBlock Grid.Column="1" Text="{x:Bind ViewModel.OSVersion, Mode=OneWay}" FontWeight="SemiBold"/>
                        </Grid>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="CPU:" Opacity="0.7"/>
                            <TextBlock Grid.Column="1" Text="{x:Bind ViewModel.CPUInfo, Mode=OneWay}" FontWeight="SemiBold"/>
                        </Grid>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="Total Memory:" Opacity="0.7"/>
                            <TextBlock Grid.Column="1" Text="{x:Bind ViewModel.TotalMemory, Mode=OneWay}" FontWeight="SemiBold"/>
                        </Grid>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="Uptime:" Opacity="0.7"/>
                            <TextBlock Grid.Column="1" Text="{x:Bind ViewModel.Uptime, Mode=OneWay}" FontWeight="SemiBold"/>
                        </Grid>
                    </StackPanel>
                </Border>
            </StackPanel>

            <!-- Optimization Actions -->
            <StackPanel Spacing="12">
                <TextBlock 
                    Text="Performance Optimization"
                    Style="{StaticResource SubtitleTextBlockStyle}"/>
                
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <Button 
                        Grid.Column="0"
                        HorizontalAlignment="Stretch"
                        Margin="0,0,6,0"
                        Command="{x:Bind ViewModel.OptimizeLightCommand}">
                        <StackPanel Orientation="Vertical" Padding="12">
                            <FontIcon Glyph="&#xE713;" FontSize="24"/>
                            <TextBlock Text="Light Optimization" Margin="0,8,0,0" TextAlignment="Center"/>
                        </StackPanel>
                    </Button>

                    <Button 
                        Grid.Column="1"
                        HorizontalAlignment="Stretch"
                        Margin="6,0,6,0"
                        Command="{x:Bind ViewModel.OptimizeModerateCommand}">
                        <StackPanel Orientation="Vertical" Padding="12">
                            <FontIcon Glyph="&#xE90F;" FontSize="24"/>
                            <TextBlock Text="Moderate Optimization" Margin="0,8,0,0" TextAlignment="Center"/>
                        </StackPanel>
                    </Button>

                    <Button 
                        Grid.Column="2"
                        HorizontalAlignment="Stretch"
                        Margin="6,0,0,0"
                        Command="{x:Bind ViewModel.OptimizeAggressiveCommand}">
                        <StackPanel Orientation="Vertical" Padding="12">
                            <FontIcon Glyph="&#xE945;" FontSize="24"/>
                            <TextBlock Text="Aggressive Optimization" Margin="0,8,0,0" TextAlignment="Center"/>
                        </StackPanel>
                    </Button>
                </Grid>
            </StackPanel>
        </StackPanel>
    </ScrollViewer>
</Page>
